{% extends 'base.html' %}
{% block title %}
    login
{% endblock %}
{% block body %}
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {{ messages }}
        {% endif %}
    {% endwith %}
    <form action="{{ url_for('auth.login', next=request.args.get('next')) }}" method="POST" novalidate>
        {% for field in form %}
            {% if field.errors %}
                <ul class=errors>
                    {% for error in field.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
            {{ field.label }}
            {{ field() }}
        {% endfor %}
        <button>ok</button>
    </form>
{% endblock %}